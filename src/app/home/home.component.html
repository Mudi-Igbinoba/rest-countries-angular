<main class="transition-all duration-100 text-sm">
  <section
    class="container mx-auto px-4 py-6 md:px-9 min-[1440px]:px-0 lg:py-12"
  >
    <section
      class="flex lg:flex-row flex-col lg:justify-between md:gap-y-5 gap-y-10 lg:items-center"
    >
      @if(countries$ | async; as countries ){
      <app-search-bar
        (searchCountriesEvent)="searchCountry($event)"
        class="block lg:w-5/12 w-full"
      />

      <app-filter-list
        (filterRegionEvent)="filterByRegion($event)"
        class="block lg:w-1/5 md:w-1/2 w-3/5"
      />
      } @else {
      <div
        class="block lg:w-5/12 w-full h-14 bg-slate-200 dark:bg-slate-500 rounded animate-pulse"
      ></div>

      <div
        class="block lg:w-1/5 md:w-1/2 w-3/5 h-14 bg-slate-200 dark:bg-slate-500 rounded animate-pulse"
      ></div>
      }
    </section>

    <section
      class="mt-9 lg:mt-14 grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 sm:gap-x-10 gap-y-12 md:gap-y-20"
    >
      @if(countries$ | async; as countries ){ @for (country of
      paginatedCountries; track country.name.common) {
      <app-country-cards [country]="country" />
      } } @else {
      <app-skeleton />
      <app-skeleton />
      <app-skeleton />
      <app-skeleton />
      }
    </section>

    <app-pagination
      [perPage]="perPage"
      [totalCountries]="totalCountries"
      [numOfPages]="numOfPages"
      [currentPage]="currentPage"
      (changePageEvent)="changeCountries($event)"
      (goToPrevEvent)="goToPrev()"
      (goToNextEvent)="goToNext()"
    />
  </section>
</main>
